import moment from "moment-timezone";

const schedule = {
  0: "ðŸŒ™ {12AM} Ø§Ø³ØªØºÙØ± Ø±Ø¨Ùƒ Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ… ÙˆÙ‚Ù„: Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ Ù„ÙŠ Ù…Ù† Ø£Ù…Ø±ÙŠ ÙØ±Ø¬Ù‹Ø§.",
  1: "ðŸ• {1AM} Ø¯Ø¹Ø§Ø¡ Ø¬Ù…ÙŠÙ„: Ø­Ø³Ø¨ÙŠ Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø¹Ù„ÙŠÙ‡ ØªÙˆÙƒÙ„Øª ÙˆÙ‡Ùˆ Ø±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ….",
  2: "ðŸ•‘ {2AM} Ù„Ø§ ØªÙ†Ø³ Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„ØŒ ÙˆÙ„Ùˆ Ø¨Ø±ÙƒØ¹ØªÙŠÙ† ÙˆØµÙ„Ø§Ø© Ø§Ù„ÙˆØªØ± ðŸ’«",
  3: "ðŸ•’ {3AM} Ø§Ù„Ø«Ù„Ø« Ø§Ù„Ø£Ø®ÙŠØ± Ù…Ù† Ø§Ù„Ù„ÙŠÙ„ØŒ Ø§Ø³ØªØºÙØ± ÙˆØ§Ø¯Ø¹Ù ÙØ¥Ù† Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù…Ø³ØªØ¬Ø§Ø¨ ðŸŒ™",
  4: "ðŸ•“ {4AM} Ø§Ù‚ØªØ±Ø¨ Ø§Ù„ÙØ¬Ø±ØŒ ØªÙˆØ¶Ø£ ÙˆØ§Ø³ØªØ¹Ø¯ Ù„ÙˆÙ‚ÙˆÙÙƒ Ø¨ÙŠÙ† ÙŠØ¯ÙŠ Ø§Ù„Ù„Ù‡ ðŸŒ„",
  5: "ðŸŒ… {5AM} Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ðŸŒž: Ù‚Ù„ 'Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ£ØµØ¨Ø­ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡'",
  6: "ðŸ•• {6AM} Ø±Ø¯Ø¯: Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø®ÙŠØ± Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…ØŒ ÙØªØ­Ù‡ ÙˆÙ†ØµØ±Ù‡ ðŸŒ¼",
  7: "ðŸ•– {7AM} Ù„Ø§ ØªÙ†Ø³ÙŽ Ù†ÙŠØ© ØµØ§Ù„Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…ØŒ ÙÙ€Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª âœ¨",
  8: "ðŸ•— {8AM} Ø±Ø¯Ø¯: Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ… ðŸ’¬",
  9: "ðŸ•˜ {9AM} ØªØ°ÙƒÙŠØ±: ØµÙ„Ù Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ ï·ºØŒ ØªÙØªØ­ Ù„Ùƒ Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ â¤ï¸",
  10: "ðŸ•™ {10AM} Ù‚Ù„: Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡ØŒ ÙƒÙ†Ø² Ù…Ù† ÙƒÙ†ÙˆØ² Ø§Ù„Ø¬Ù†Ø©",
  11: "ðŸ•š {11AM} Ø£ÙƒØ«Ø± Ù…Ù† Ù‚ÙˆÙ„: Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ… ðŸŒ¿",
  12: "ðŸ•› {12PM} ØªØ¬Ù‡Ù‘Ø² Ù„ØµÙ„Ø§Ø© Ø§Ù„Ø¸Ù‡Ø±ØŒ ÙØ§Ù„ØµÙ„Ø§Ø© Ø¹Ù…Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙ† ðŸ•Œ",
  13: "ðŸ• {1PM} Ù‚Ù„: ÙŠØ§ Ø­ÙŠ ÙŠØ§ Ù‚ÙŠÙˆÙ… Ø¨Ø±Ø­Ù…ØªÙƒ Ø£Ø³ØªØºÙŠØ« ðŸ™",
  14: "ðŸ•‘ {2PM} Ø§Ø¬Ø¹Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙˆÙ‚Øª Ø°ÙƒØ±Ù‹Ø§ ÙˆØ§Ø³ØªØºÙØ§Ø±Ù‹Ø§ ðŸ’­",
  15: "ðŸ•’ {3PM} ØªØ°ÙƒÙŠØ± Ø¨ØµÙ„Ø§Ø© Ø§Ù„Ø¹ØµØ±ØŒ Ù„Ø§ ØªØ¤Ø®Ø±Ù‡Ø§ ðŸŒ‡",
  16: "ðŸ•“ {4PM} Ø±Ø¯Ø¯: Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„Ù†ÙŠ Ù…Ù† Ø§Ù„ØªÙˆØ§Ø¨ÙŠÙ† ðŸ’§",
  17: "ðŸ•” {5PM} ÙˆÙ‚Øª Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡ØŒ Ù„Ø§ ØªÙ†Ø³ÙŽ ØªØ­ØµÙŠÙ† Ù†ÙØ³Ùƒ ðŸ’ ",
  18: "ðŸŒ† {6PM} Ù‚Ù„: Ø£Ø¹ÙˆØ° Ø¨ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù„Ù‡ Ø§Ù„ØªØ§Ù…Ø§Øª Ù…Ù† Ø´Ø± Ù…Ø§ Ø®Ù„Ù‚ ðŸ•¯ï¸",
  19: "ðŸ•– {7PM} Ø§Ø¯Ø¹Ù: Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø¡ Ù‡Ø¯ÙˆØ¡Ù‹Ø§ Ù„Ù‚Ù„ÙˆØ¨Ù†Ø§ ðŸŒ™",
  20: "ðŸ•— {8PM} Ù„Ùˆ Ø§Ù„ÙŠÙˆÙ… Ø¬Ù…Ø¹Ø©ØŒ Ø§Ù‚Ø±Ø£ Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù ðŸ•Œ",
  21: "ðŸ•˜ {9PM} Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ù†ÙˆÙ…: Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ 33ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ 33ØŒ Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø± 34",
  22: "ðŸŒ™ {10PM} Ù„Ø­Ø¸Ø© Ù‡Ø¯ÙˆØ¡: Ù‚Ù„ 'Ø§Ù„Ù„Ù‡Ù… Ø¢ØªÙ†Ø§ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø­Ø³Ù†Ø©' ðŸ¤²",
  23: "ðŸ•š {11PM} Ø§ØºÙ„Ù‚ ÙŠÙˆÙ…Ùƒ Ø¨Ø¯Ø¹Ø§Ø¡: Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ ÙÙˆØ¶Øª Ø£Ù…Ø±ÙŠ Ø¥Ù„ÙŠÙƒ âœ¨"
};

let lastSentHour = -1;

function onLoad() {
  setInterval(() => {
    const hour = moment().tz("Asia/Riyadh").hour(); // ðŸ•’ ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©

    if (hour === lastSentHour) return;
    lastSentHour = hour;

    const message = schedule[hour];
    if (!message) return;

    const threads = global.data.threads || new Map();
    for (const [threadID, thread] of threads.entries()) {
      if (thread?.data?.dailyNoti === false) continue;
      global.api.sendMessage(message, threadID);
    }

  }, 1000 * 60); // ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø© Ù†ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø©
}

export default {
  onLoad
};
